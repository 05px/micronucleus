GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 1


   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	writeFlashPage, @function
  10               	writeFlashPage:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 81E0      		ldi r24,lo8(1)
  14 0002 8093 0000 		sts didWriteSomething,r24
  15               	/* #APP */
  16               	 ;  128 "main.c" 1
  17 0006 F894      		cli
  18               	 ;  0 "" 2
  19               	/* #NOAPP */
  20 0008 E091 0000 		lds r30,currentAddress
  21 000c F091 0000 		lds r31,(currentAddress)+1
  22 0010 3297      		sbiw r30,2
  23 0012 85E0      		ldi r24,lo8(5)
  24               	/* #APP */
  25               	 ;  129 "main.c" 1
  26 0014 8093 5700 		sts 87, r24
  27 0018 E895      		spm
  28               		
  29               	 ;  0 "" 2
  30               	/* #NOAPP */
  31               	.L2:
  32 001a 07B6      		in __tmp_reg__,87-32
  33 001c 00FC      		sbrc __tmp_reg__,0
  34 001e 00C0      		rjmp .L2
  35               	/* #APP */
  36               	 ;  131 "main.c" 1
  37 0020 7894      		sei
  38               	 ;  0 "" 2
  39               	/* epilogue start */
  40               	/* #NOAPP */
  41 0022 0895      		ret
  42               		.size	writeFlashPage, .-writeFlashPage
  43               		.type	writeWordToPageBuffer, @function
  44               	writeWordToPageBuffer:
  45               	/* prologue: function */
  46               	/* frame size = 0 */
  47 0024 9C01      		movw r18,r24
  48 0026 E091 0000 		lds r30,currentAddress
  49 002a F091 0000 		lds r31,(currentAddress)+1
  50 002e 3097      		sbiw r30,0
  51 0030 01F0      		breq .L5
  52 0032 E430      		cpi r30,4
  53 0034 F105      		cpc r31,__zero_reg__
  54 0036 01F0      		breq .L6
  55 0038 86E1      		ldi r24,hi8(5884)
  56 003a EC3F      		cpi r30,lo8(5884)
  57 003c F807      		cpc r31,r24
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 2


  58 003e 01F4      		brne .L7
  59 0040 2091 0000 		lds r18,vectorTemp
  60 0044 3091 0000 		lds r19,(vectorTemp)+1
  61 0048 2E57      		subi r18,lo8(-(1154))
  62 004a 3B4F      		sbci r19,hi8(-(1154))
  63 004c 00C0      		rjmp .L8
  64               	.L7:
  65 004e 86E1      		ldi r24,hi8(5886)
  66 0050 EE3F      		cpi r30,lo8(5886)
  67 0052 F807      		cpc r31,r24
  68 0054 01F4      		brne .L8
  69 0056 2091 0000 		lds r18,vectorTemp+2
  70 005a 3091 0000 		lds r19,(vectorTemp+2)+1
  71 005e 2D57      		subi r18,lo8(-(1155))
  72 0060 3B4F      		sbci r19,hi8(-(1155))
  73 0062 00C0      		rjmp .L8
  74               	.L6:
  75 0064 2FE7      		ldi r18,lo8(-13441)
  76 0066 3BEC      		ldi r19,hi8(-13441)
  77               	.L8:
  78               	/* #APP */
  79               	 ;  165 "main.c" 1
  80 0068 F894      		cli
  81               	 ;  0 "" 2
  82               	/* #NOAPP */
  83 006a 81E0      		ldi r24,lo8(1)
  84               	/* #APP */
  85               	 ;  166 "main.c" 1
  86 006c 0901      		movw  r0, r18
  87 006e 8093 5700 		sts 87, r24
  88 0072 E895      		spm
  89 0074 1124      		clr  r1
  90               		
  91               	 ;  0 "" 2
  92               	 ;  167 "main.c" 1
  93 0076 7894      		sei
  94               	 ;  0 "" 2
  95               	/* #NOAPP */
  96 0078 3296      		adiw r30,2
  97 007a F093 0000 		sts (currentAddress)+1,r31
  98 007e E093 0000 		sts currentAddress,r30
  99               	/* epilogue start */
 100 0082 0895      		ret
 101               	.L5:
 102 0084 81E1      		ldi r24,lo8(17)
 103               	/* #APP */
 104               	 ;  163 "main.c" 1
 105 0086 8093 5700 		sts 87, r24
 106 008a E895      		spm
 107               		
 108               	 ;  0 "" 2
 109               	/* #NOAPP */
 110 008c 00C0      		rjmp .L6
 111               		.size	writeWordToPageBuffer, .-writeWordToPageBuffer
 112               		.type	fillFlashWithVectors, @function
 113               	fillFlashWithVectors:
 114 008e CF93      		push r28
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 3


 115 0090 DF93      		push r29
 116               	/* prologue: function */
 117               	/* frame size = 0 */
 118 0092 C091 0000 		lds r28,currentAddress
 119 0096 D091 0000 		lds r29,(currentAddress)+1
 120 009a CF73      		andi r28,lo8(63)
 121 009c D070      		andi r29,hi8(63)
 122               	.L11:
 123 009e 8FEF      		ldi r24,lo8(-1)
 124 00a0 9FEF      		ldi r25,hi8(-1)
 125 00a2 00D0      		rcall writeWordToPageBuffer
 126 00a4 2296      		adiw r28,2
 127 00a6 C034      		cpi r28,64
 128 00a8 D105      		cpc r29,__zero_reg__
 129 00aa 04F0      		brlt .L11
 130 00ac 00D0      		rcall writeFlashPage
 131               	/* epilogue start */
 132 00ae DF91      		pop r29
 133 00b0 CF91      		pop r28
 134 00b2 0895      		ret
 135               		.size	fillFlashWithVectors, .-fillFlashWithVectors
 136               		.section	.init3,"ax",@progbits
 137               	.global	PushMagicWord
 138               		.type	PushMagicWord, @function
 139               	PushMagicWord:
 140               	/* prologue: naked */
 141               	/* frame size = 0 */
 142               	/* #APP */
 143               	 ;  262 "main.c" 1
 144 0000 00EB      		ldi r16, 0xB0
 145               	 ;  0 "" 2
 146               	 ;  263 "main.c" 1
 147 0002 0F93      		push r16
 148               	 ;  0 "" 2
 149               	 ;  264 "main.c" 1
 150 0004 07E0      		ldi r16, 0x07
 151               	 ;  0 "" 2
 152               	 ;  265 "main.c" 1
 153 0006 0F93      		push r16
 154               	 ;  0 "" 2
 155               	/* epilogue start */
 156               	/* #NOAPP */
 157               		.size	PushMagicWord, .-PushMagicWord
 158               		.text
 159               	.global	main
 160               		.type	main, @function
 161               	main:
 162               	/* prologue: function */
 163               	/* frame size = 0 */
 164 00b4 88E1      		ldi r24,lo8(24)
 165               	/* #APP */
 166               	 ;  330 "main.c" 1
 167 00b6 0FB6      		in __tmp_reg__, __SREG__
 168 00b8 F894      		cli
 169 00ba 81BD      		out 33, r24
 170 00bc 11BC      		out 33, __zero_reg__
 171 00be 0FBE      		out __SREG__,__tmp_reg__
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 4


 172               		
 173               	 ;  0 "" 2
 174               	/* #NOAPP */
 175 00c0 E0E0      		ldi r30,lo8(0)
 176 00c2 F0E0      		ldi r31,hi8(0)
 177               	/* #APP */
 178               	 ;  283 "main.c" 1
 179 00c4 8591      		lpm r24, Z+
 180 00c6 9491      		lpm r25, Z
 181               		
 182               	 ;  0 "" 2
 183               	/* #NOAPP */
 184 00c8 8F57      		subi r24,lo8(-13441)
 185 00ca 9B4C      		sbci r25,hi8(-13441)
 186 00cc 01F4      		brne .L16
 187 00ce E4E0      		ldi r30,lo8(4)
 188 00d0 F0E0      		ldi r31,hi8(4)
 189               	/* #APP */
 190               	 ;  284 "main.c" 1
 191 00d2 8591      		lpm r24, Z+
 192 00d4 9491      		lpm r25, Z
 193               		
 194               	 ;  0 "" 2
 195               	/* #NOAPP */
 196 00d6 8F57      		subi r24,lo8(-13441)
 197 00d8 9B4C      		sbci r25,hi8(-13441)
 198 00da 01F0      		breq .L17
 199               	.L16:
 200 00dc 00D0      		rcall fillFlashWithVectors
 201               	.L17:
 202 00de 1092 0000 		sts (currentAddress)+1,__zero_reg__
 203 00e2 1092 0000 		sts currentAddress,__zero_reg__
 204 00e6 AC9A      		sbi 53-32,4
 205 00e8 8BB7      		in r24,91-32
 206 00ea 8062      		ori r24,lo8(32)
 207 00ec 8BBF      		out 91-32,r24
 208 00ee BB9A      		sbi 55-32,3
 209 00f0 88E8      		ldi r24,lo8(5000)
 210 00f2 93E1      		ldi r25,hi8(5000)
 211               	.L18:
 212 00f4 ECE9      		ldi r30,lo8(412)
 213 00f6 F1E0      		ldi r31,hi8(412)
 214               	/* #APP */
 215               	 ;  105 "/usr/local/CrossPack-AVR-20100115/lib/gcc/avr/4.3.3/../../../../avr/include/util/delay_bas
 216 00f8 3197      		1: sbiw r30,1
 217 00fa 01F4      		brne 1b
 218               	 ;  0 "" 2
 219               	/* #NOAPP */
 220 00fc 0197      		sbiw r24,1
 221 00fe 01F4      		brne .L18
 222 0100 BB98      		cbi 55-32,3
 223               	/* #APP */
 224               	 ;  276 "main.c" 1
 225 0102 7894      		sei
 226               	 ;  0 "" 2
 227               	/* #NOAPP */
 228 0104 EE24      		clr r14
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 5


 229 0106 FF24      		clr r15
 230               	.L74:
 231 0108 1091 0000 		lds r17,usbRxLen
 232 010c 1350      		subi r17,lo8(-(-3))
 233 010e 17FD      		sbrc r17,7
 234 0110 00C0      		rjmp .L19
 235 0112 8091 0000 		lds r24,usbInputBufOffset
 236 0116 CCE0      		ldi r28,lo8(12)
 237 0118 D0E0      		ldi r29,hi8(12)
 238 011a C81B      		sub r28,r24
 239 011c D109      		sbc r29,__zero_reg__
 240 011e C050      		subi r28,lo8(-(usbRxBuf))
 241 0120 D040      		sbci r29,hi8(-(usbRxBuf))
 242 0122 8091 0000 		lds r24,usbRxToken
 243 0126 8D32      		cpi r24,lo8(45)
 244 0128 01F0      		breq .+2
 245 012a 00C0      		rjmp .L20
 246 012c 1830      		cpi r17,lo8(8)
 247 012e 01F0      		breq .+2
 248 0130 00C0      		rjmp .L21
 249 0132 83EC      		ldi r24,lo8(-61)
 250 0134 8093 0000 		sts usbTxBuf,r24
 251 0138 8AE5      		ldi r24,lo8(90)
 252 013a 8093 0000 		sts usbTxLen,r24
 253 013e 1092 0000 		sts usbMsgFlags,__zero_reg__
 254 0142 2881      		ld r18,Y
 255 0144 822F      		mov r24,r18
 256 0146 8076      		andi r24,lo8(96)
 257 0148 9981      		ldd r25,Y+1
 258 014a 8823      		tst r24
 259 014c 01F0      		breq .L22
 260 014e 9923      		tst r25
 261 0150 01F4      		brne .L23
 262 0152 80E0      		ldi r24,lo8(replyBuffer.1675)
 263 0154 90E0      		ldi r25,hi8(replyBuffer.1675)
 264 0156 9093 0000 		sts (usbMsgPtr)+1,r25
 265 015a 8093 0000 		sts usbMsgPtr,r24
 266 015e 24E0      		ldi r18,lo8(4)
 267 0160 00C0      		rjmp .L24
 268               	.L23:
 269 0162 9130      		cpi r25,lo8(1)
 270 0164 01F4      		brne .L25
 271 0166 8A81      		ldd r24,Y+2
 272 0168 8093 0000 		sts writeLength,r24
 273 016c 8C81      		ldd r24,Y+4
 274 016e 9D81      		ldd r25,Y+5
 275 0170 9093 0000 		sts (currentAddress)+1,r25
 276 0174 8093 0000 		sts currentAddress,r24
 277 0178 27FD      		sbrc r18,7
 278 017a 00C0      		rjmp .L26
 279 017c 9FEF      		ldi r25,lo8(-1)
 280 017e 00C0      		rjmp .L27
 281               	.L25:
 282 0180 8091 0000 		lds r24,events
 283 0184 9230      		cpi r25,lo8(2)
 284 0186 01F4      		brne .L28
 285 0188 8160      		ori r24,lo8(1)
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 6


 286 018a 00C0      		rjmp .L78
 287               	.L28:
 288 018c 8460      		ori r24,lo8(4)
 289               	.L78:
 290 018e 8093 0000 		sts events,r24
 291 0192 20E0      		ldi r18,lo8(0)
 292 0194 00C0      		rjmp .L24
 293               	.L22:
 294 0196 8A81      		ldd r24,Y+2
 295 0198 1092 0000 		sts usbTxBuf+9,__zero_reg__
 296 019c 9923      		tst r25
 297 019e 01F4      		brne .L29
 298 01a0 1092 0000 		sts usbTxBuf+10,__zero_reg__
 299 01a4 80E0      		ldi r24,lo8(usbTxBuf+9)
 300 01a6 90E0      		ldi r25,hi8(usbTxBuf+9)
 301 01a8 22E0      		ldi r18,lo8(2)
 302 01aa 00C0      		rjmp .L30
 303               	.L29:
 304 01ac 9530      		cpi r25,lo8(5)
 305 01ae 01F4      		brne .L31
 306 01b0 8093 0000 		sts usbNewDeviceAddr,r24
 307 01b4 00C0      		rjmp .L41
 308               	.L31:
 309 01b6 9630      		cpi r25,lo8(6)
 310 01b8 01F4      		brne .L32
 311 01ba 8B81      		ldd r24,Y+3
 312 01bc 8130      		cpi r24,lo8(1)
 313 01be 01F4      		brne .L33
 314 01c0 80E0      		ldi r24,lo8(usbDescriptorDevice)
 315 01c2 90E0      		ldi r25,hi8(usbDescriptorDevice)
 316 01c4 00C0      		rjmp .L76
 317               	.L33:
 318 01c6 8230      		cpi r24,lo8(2)
 319 01c8 01F4      		brne .L35
 320 01ca 80E0      		ldi r24,lo8(usbDescriptorConfiguration)
 321 01cc 90E0      		ldi r25,hi8(usbDescriptorConfiguration)
 322               	.L76:
 323 01ce 9093 0000 		sts (usbMsgPtr)+1,r25
 324 01d2 8093 0000 		sts usbMsgPtr,r24
 325 01d6 22E1      		ldi r18,lo8(18)
 326 01d8 00C0      		rjmp .L34
 327               	.L35:
 328 01da 8330      		cpi r24,lo8(3)
 329 01dc 01F4      		brne .L36
 330 01de 8A81      		ldd r24,Y+2
 331 01e0 8823      		tst r24
 332 01e2 01F4      		brne .L37
 333 01e4 80E0      		ldi r24,lo8(usbDescriptorString0)
 334 01e6 90E0      		ldi r25,hi8(usbDescriptorString0)
 335 01e8 9093 0000 		sts (usbMsgPtr)+1,r25
 336 01ec 8093 0000 		sts usbMsgPtr,r24
 337 01f0 24E0      		ldi r18,lo8(4)
 338 01f2 00C0      		rjmp .L34
 339               	.L37:
 340 01f4 8130      		cpi r24,lo8(1)
 341 01f6 01F4      		brne .L38
 342 01f8 80E0      		ldi r24,lo8(usbDescriptorStringVendor)
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 7


 343 01fa 90E0      		ldi r25,hi8(usbDescriptorStringVendor)
 344 01fc 9093 0000 		sts (usbMsgPtr)+1,r25
 345 0200 8093 0000 		sts usbMsgPtr,r24
 346 0204 22E2      		ldi r18,lo8(34)
 347 0206 00C0      		rjmp .L34
 348               	.L38:
 349 0208 8230      		cpi r24,lo8(2)
 350 020a 01F4      		brne .L36
 351 020c 80E0      		ldi r24,lo8(usbDescriptorStringDevice)
 352 020e 90E0      		ldi r25,hi8(usbDescriptorStringDevice)
 353 0210 9093 0000 		sts (usbMsgPtr)+1,r25
 354 0214 8093 0000 		sts usbMsgPtr,r24
 355 0218 2CE0      		ldi r18,lo8(12)
 356 021a 00C0      		rjmp .L34
 357               	.L36:
 358 021c 20E0      		ldi r18,lo8(0)
 359               	.L34:
 360 021e 80E4      		ldi r24,lo8(64)
 361 0220 8093 0000 		sts usbMsgFlags,r24
 362 0224 00C0      		rjmp .L24
 363               	.L32:
 364 0226 9830      		cpi r25,lo8(8)
 365 0228 01F4      		brne .L39
 366 022a 80E0      		ldi r24,lo8(usbConfiguration)
 367 022c 90E0      		ldi r25,hi8(usbConfiguration)
 368 022e 00C0      		rjmp .L77
 369               	.L39:
 370 0230 9930      		cpi r25,lo8(9)
 371 0232 01F4      		brne .L40
 372 0234 8093 0000 		sts usbConfiguration,r24
 373 0238 00C0      		rjmp .L41
 374               	.L40:
 375 023a 9A30      		cpi r25,lo8(10)
 376 023c 01F4      		brne .L41
 377 023e 80E0      		ldi r24,lo8(usbTxBuf+9)
 378 0240 90E0      		ldi r25,hi8(usbTxBuf+9)
 379               	.L77:
 380 0242 21E0      		ldi r18,lo8(1)
 381 0244 00C0      		rjmp .L30
 382               	.L41:
 383 0246 80E0      		ldi r24,lo8(usbTxBuf+9)
 384 0248 90E0      		ldi r25,hi8(usbTxBuf+9)
 385 024a 20E0      		ldi r18,lo8(0)
 386               	.L30:
 387 024c 9093 0000 		sts (usbMsgPtr)+1,r25
 388 0250 8093 0000 		sts usbMsgPtr,r24
 389 0254 00C0      		rjmp .L24
 390               	.L26:
 391 0256 9E81      		ldd r25,Y+6
 392               	.L27:
 393 0258 80E8      		ldi r24,lo8(-128)
 394 025a 8093 0000 		sts usbMsgFlags,r24
 395 025e 00C0      		rjmp .L42
 396               	.L24:
 397 0260 8F81      		ldd r24,Y+7
 398 0262 8823      		tst r24
 399 0264 01F4      		brne .L43
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 8


 400 0266 9E81      		ldd r25,Y+6
 401 0268 9217      		cp r25,r18
 402 026a 00F0      		brlo .L42
 403               	.L43:
 404 026c 922F      		mov r25,r18
 405               	.L42:
 406 026e 9093 0000 		sts usbMsgLen,r25
 407 0272 00C0      		rjmp .L21
 408               	.L20:
 409 0274 8091 0000 		lds r24,usbMsgFlags
 410 0278 87FF      		sbrs r24,7
 411 027a 00C0      		rjmp .L21
 412 027c 8091 0000 		lds r24,writeLength
 413 0280 811B      		sub r24,r17
 414 0282 8093 0000 		sts writeLength,r24
 415               	.L48:
 416 0286 8091 0000 		lds r24,currentAddress
 417 028a 9091 0000 		lds r25,(currentAddress)+1
 418 028e 0097      		sbiw r24,0
 419 0290 01F4      		brne .L44
 420 0292 8881      		ld r24,Y
 421 0294 9981      		ldd r25,Y+1
 422 0296 9093 0000 		sts (vectorTemp)+1,r25
 423 029a 8093 0000 		sts vectorTemp,r24
 424 029e 00C0      		rjmp .L45
 425               	.L44:
 426 02a0 8430      		cpi r24,4
 427 02a2 9105      		cpc r25,__zero_reg__
 428 02a4 01F4      		brne .L46
 429 02a6 8881      		ld r24,Y
 430 02a8 9981      		ldd r25,Y+1
 431 02aa 9093 0000 		sts (vectorTemp+2)+1,r25
 432 02ae 8093 0000 		sts vectorTemp+2,r24
 433 02b2 00C0      		rjmp .L45
 434               	.L46:
 435 02b4 8A5F      		subi r24,lo8(5882)
 436 02b6 9641      		sbci r25,hi8(5882)
 437 02b8 00F0      		brlo .L45
 438 02ba 81E1      		ldi r24,lo8(17)
 439               	/* #APP */
 440               	 ;  239 "main.c" 1
 441 02bc 8093 5700 		sts 87, r24
 442 02c0 E895      		spm
 443               		
 444               	 ;  0 "" 2
 445               	/* #NOAPP */
 446 02c2 00C0      		rjmp .L47
 447               	.L45:
 448 02c4 8881      		ld r24,Y
 449 02c6 9981      		ldd r25,Y+1
 450 02c8 00D0      		rcall writeWordToPageBuffer
 451 02ca 1250      		subi r17,lo8(-(-2))
 452 02cc 01F0      		breq .L47
 453 02ce 2296      		adiw r28,2
 454 02d0 00C0      		rjmp .L48
 455               	.L47:
 456 02d2 8091 0000 		lds r24,writeLength
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 9


 457 02d6 8823      		tst r24
 458 02d8 01F4      		brne .L21
 459 02da 8091 0000 		lds r24,events
 460 02de 8260      		ori r24,lo8(2)
 461 02e0 8093 0000 		sts events,r24
 462 02e4 1092 0000 		sts usbMsgLen,__zero_reg__
 463               	.L21:
 464 02e8 1092 0000 		sts usbRxLen,__zero_reg__
 465               	.L19:
 466 02ec 8091 0000 		lds r24,usbTxLen
 467 02f0 84FF      		sbrs r24,4
 468 02f2 00C0      		rjmp .L49
 469 02f4 8091 0000 		lds r24,usbMsgLen
 470 02f8 8F3F      		cpi r24,lo8(-1)
 471 02fa 01F0      		breq .L49
 472 02fc 182F      		mov r17,r24
 473 02fe 8930      		cpi r24,lo8(9)
 474 0300 00F0      		brlo .L50
 475 0302 18E0      		ldi r17,lo8(8)
 476               	.L50:
 477 0304 811B      		sub r24,r17
 478 0306 8093 0000 		sts usbMsgLen,r24
 479 030a 8091 0000 		lds r24,usbTxBuf
 480 030e 98E8      		ldi r25,lo8(-120)
 481 0310 8927      		eor r24,r25
 482 0312 8093 0000 		sts usbTxBuf,r24
 483 0316 1123      		tst r17
 484 0318 01F0      		breq .L51
 485 031a E091 0000 		lds r30,usbMsgPtr
 486 031e F091 0000 		lds r31,(usbMsgPtr)+1
 487 0322 8091 0000 		lds r24,usbMsgFlags
 488 0326 86FF      		sbrs r24,6
 489 0328 00C0      		rjmp .L52
 490 032a 912F      		mov r25,r17
 491 032c A0E0      		ldi r26,lo8(usbTxBuf+1)
 492 032e B0E0      		ldi r27,hi8(usbTxBuf+1)
 493               	.L53:
 494               	/* #APP */
 495               	 ;  504 "usbdrv/usbdrv.c" 1
 496 0330 8491      		lpm r24, Z
 497               		
 498               	 ;  0 "" 2
 499               	/* #NOAPP */
 500 0332 8D93      		st X+,r24
 501 0334 3196      		adiw r30,1
 502 0336 9150      		subi r25,lo8(-(-1))
 503 0338 01F4      		brne .L53
 504 033a 00C0      		rjmp .L54
 505               	.L52:
 506 033c 912F      		mov r25,r17
 507 033e A0E0      		ldi r26,lo8(usbTxBuf+1)
 508 0340 B0E0      		ldi r27,hi8(usbTxBuf+1)
 509               	.L55:
 510 0342 8191      		ld r24,Z+
 511 0344 8D93      		st X+,r24
 512 0346 9150      		subi r25,lo8(-(-1))
 513 0348 01F4      		brne .L55
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 10


 514               	.L54:
 515 034a F093 0000 		sts (usbMsgPtr)+1,r31
 516 034e E093 0000 		sts usbMsgPtr,r30
 517               	.L51:
 518 0352 80E0      		ldi r24,lo8(usbTxBuf+1)
 519 0354 90E0      		ldi r25,hi8(usbTxBuf+1)
 520 0356 612F      		mov r22,r17
 521 0358 00D0      		rcall usbCrc16Append
 522 035a 612F      		mov r22,r17
 523 035c 6C5F      		subi r22,lo8(-(4))
 524 035e 6C30      		cpi r22,lo8(12)
 525 0360 01F0      		breq .L56
 526 0362 8FEF      		ldi r24,lo8(-1)
 527 0364 8093 0000 		sts usbMsgLen,r24
 528               	.L56:
 529 0368 6093 0000 		sts usbTxLen,r22
 530               	.L49:
 531 036c 94E1      		ldi r25,lo8(20)
 532               	.L58:
 533 036e 86B3      		in r24,54-32
 534 0370 8871      		andi r24,lo8(24)
 535 0372 01F4      		brne .L57
 536 0374 9150      		subi r25,lo8(-(-1))
 537 0376 01F4      		brne .L58
 538 0378 1092 0000 		sts usbNewDeviceAddr,__zero_reg__
 539 037c 1092 0000 		sts usbDeviceAddr,__zero_reg__
 540               	.L57:
 541 0380 10E0      		ldi r17,lo8(0)
 542 0382 9923      		tst r25
 543 0384 01F4      		brne .L59
 544 0386 11E0      		ldi r17,lo8(1)
 545               	.L59:
 546 0388 8091 0000 		lds r24,wasReset.1564
 547 038c 8117      		cp r24,r17
 548 038e 01F0      		breq .L60
 549 0390 1123      		tst r17
 550 0392 01F4      		brne .L61
 551               	/* #APP */
 552               	 ;  557 "usbdrv/usbdrv.c" 1
 553 0394 F894      		cli
 554               	 ;  0 "" 2
 555               	/* #NOAPP */
 556 0396 00D0      		rcall calibrateOscillator
 557               	/* #APP */
 558               	 ;  557 "usbdrv/usbdrv.c" 1
 559 0398 7894      		sei
 560               	 ;  0 "" 2
 561               	/* #NOAPP */
 562               	.L61:
 563 039a 1093 0000 		sts wasReset.1564,r17
 564               	.L60:
 565 039e 8CE9      		ldi r24,lo8(412)
 566 03a0 91E0      		ldi r25,hi8(412)
 567               	/* #APP */
 568               	 ;  105 "/usr/local/CrossPack-AVR-20100115/lib/gcc/avr/4.3.3/../../../../avr/include/util/delay_bas
 569 03a2 0197      		1: sbiw r24,1
 570 03a4 01F4      		brne 1b
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 11


 571               	 ;  0 "" 2
 572               	/* #NOAPP */
 573 03a6 8091 0000 		lds r24,events
 574 03aa 8823      		tst r24
 575 03ac 01F0      		breq .L62
 576 03ae EE24      		clr r14
 577 03b0 FF24      		clr r15
 578 03b2 00C0      		rjmp .L63
 579               	.L62:
 580 03b4 0894      		sec
 581 03b6 E11C      		adc r14,__zero_reg__
 582 03b8 F11C      		adc r15,__zero_reg__
 583               	.L63:
 584 03ba 182F      		mov r17,r24
 585 03bc 80FF      		sbrs r24,0
 586 03be 00C0      		rjmp .L64
 587               	/* #APP */
 588               	 ;  114 "main.c" 1
 589 03c0 F894      		cli
 590               	 ;  0 "" 2
 591               	/* #NOAPP */
 592 03c2 E0E0      		ldi r30,lo8(5888)
 593 03c4 F7E1      		ldi r31,hi8(5888)
 594               	.L66:
 595 03c6 E054      		subi r30,lo8(-(-64))
 596 03c8 F040      		sbci r31,hi8(-(-64))
 597 03ca 83E0      		ldi r24,lo8(3)
 598               	/* #APP */
 599               	 ;  118 "main.c" 1
 600 03cc 8093 5700 		sts 87, r24
 601 03d0 E895      		spm
 602               		
 603               	 ;  0 "" 2
 604               	/* #NOAPP */
 605               	.L65:
 606 03d2 07B6      		in __tmp_reg__,87-32
 607 03d4 00FC      		sbrc __tmp_reg__,0
 608 03d6 00C0      		rjmp .L65
 609 03d8 3097      		sbiw r30,0
 610 03da 01F4      		brne .L66
 611 03dc 1092 0000 		sts (currentAddress)+1,__zero_reg__
 612 03e0 1092 0000 		sts currentAddress,__zero_reg__
 613 03e4 00D0      		rcall fillFlashWithVectors
 614               	/* #APP */
 615               	 ;  123 "main.c" 1
 616 03e6 7894      		sei
 617               	 ;  0 "" 2
 618               	/* #NOAPP */
 619               	.L64:
 620 03e8 11FF      		sbrs r17,1
 621 03ea 00C0      		rjmp .L67
 622 03ec 8AE3      		ldi r24,lo8(8250)
 623 03ee 90E2      		ldi r25,hi8(8250)
 624               	/* #APP */
 625               	 ;  105 "/usr/local/CrossPack-AVR-20100115/lib/gcc/avr/4.3.3/../../../../avr/include/util/delay_bas
 626 03f0 0197      		1: sbiw r24,1
 627 03f2 01F4      		brne 1b
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 12


 628               	 ;  0 "" 2
 629               	/* #NOAPP */
 630 03f4 8091 0000 		lds r24,currentAddress
 631 03f8 9091 0000 		lds r25,(currentAddress)+1
 632 03fc 8F73      		andi r24,lo8(63)
 633 03fe 9070      		andi r25,hi8(63)
 634 0400 892B      		or r24,r25
 635 0402 01F0      		breq .L68
 636 0404 00D0      		rcall fillFlashWithVectors
 637 0406 00C0      		rjmp .L67
 638               	.L68:
 639 0408 00D0      		rcall writeFlashPage
 640               	.L67:
 641 040a 12FD      		sbrc r17,2
 642 040c 00C0      		rjmp .L69
 643 040e 81E5      		ldi r24,lo8(-15535)
 644 0410 E816      		cp r14,r24
 645 0412 83EC      		ldi r24,hi8(-15535)
 646 0414 F806      		cpc r15,r24
 647 0416 00F0      		brlo .L70
 648               	.L69:
 649 0418 82E2      		ldi r24,lo8(-24286)
 650 041a 91EA      		ldi r25,hi8(-24286)
 651               	/* #APP */
 652               	 ;  105 "/usr/local/CrossPack-AVR-20100115/lib/gcc/avr/4.3.3/../../../../avr/include/util/delay_bas
 653 041c 0197      		1: sbiw r24,1
 654 041e 01F4      		brne 1b
 655               	 ;  0 "" 2
 656               	 ;  307 "main.c" 1
 657 0420 F894      		cli
 658               	 ;  0 "" 2
 659               	/* #NOAPP */
 660 0422 1BBE      		out 91-32,__zero_reg__
 661 0424 15BA      		out 53-32,__zero_reg__
 662 0426 8091 0000 		lds r24,didWriteSomething
 663 042a 8823      		tst r24
 664 042c 01F4      		brne .L71
 665 042e 00C0      		rjmp .L72
 666               	.L73:
 667 0430 00D0      		rcall fillFlashWithVectors
 668               	.L71:
 669 0432 8091 0000 		lds r24,currentAddress
 670 0436 9091 0000 		lds r25,(currentAddress)+1
 671 043a 8050      		subi r24,lo8(5888)
 672 043c 9741      		sbci r25,hi8(5888)
 673 043e 00F0      		brlo .L73
 674               	.L72:
 675 0440 1092 5F02 		sts 607,__zero_reg__
 676 0444 1092 5E02 		sts 606,__zero_reg__
 677               	/* #APP */
 678               	 ;  323 "main.c" 1
 679 0448 00C0      		rjmp __vectors - 4
 680               	 ;  0 "" 2
 681               	/* #NOAPP */
 682               	.L70:
 683 044a 1092 0000 		sts events,__zero_reg__
 684 044e 00C0      		rjmp .L74
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 13


 685               		.size	main, .-main
 686               	.global	usbTxLen
 687               		.data
 688               		.type	usbTxLen, @object
 689               		.size	usbTxLen, 1
 690               	usbTxLen:
 691 0000 5A        		.byte	90
 692               	.global	usbDescriptorString0
 693               		.section	.progmem.data,"a",@progbits
 694               		.type	usbDescriptorString0, @object
 695               		.size	usbDescriptorString0, 4
 696               	usbDescriptorString0:
 697 0000 04        		.byte	4
 698 0001 03        		.byte	3
 699 0002 09        		.byte	9
 700 0003 04        		.byte	4
 701               	.global	usbDescriptorStringVendor
 702               		.type	usbDescriptorStringVendor, @object
 703               		.size	usbDescriptorStringVendor, 34
 704               	usbDescriptorStringVendor:
 705 0004 2203      		.word	802
 706 0006 6300      		.word	99
 707 0008 7200      		.word	114
 708 000a 6500      		.word	101
 709 000c 6100      		.word	97
 710 000e 7400      		.word	116
 711 0010 6900      		.word	105
 712 0012 7600      		.word	118
 713 0014 6500      		.word	101
 714 0016 7000      		.word	112
 715 0018 6F00      		.word	111
 716 001a 6E00      		.word	110
 717 001c 7900      		.word	121
 718 001e 2E00      		.word	46
 719 0020 6300      		.word	99
 720 0022 6F00      		.word	111
 721 0024 6D00      		.word	109
 722               	.global	usbDescriptorStringDevice
 723               		.type	usbDescriptorStringDevice, @object
 724               		.size	usbDescriptorStringDevice, 12
 725               	usbDescriptorStringDevice:
 726 0026 0C03      		.word	780
 727 0028 7500      		.word	117
 728 002a 4200      		.word	66
 729 002c 6F00      		.word	111
 730 002e 6F00      		.word	111
 731 0030 7400      		.word	116
 732               	.global	usbDescriptorDevice
 733               		.type	usbDescriptorDevice, @object
 734               		.size	usbDescriptorDevice, 18
 735               	usbDescriptorDevice:
 736 0032 12        		.byte	18
 737 0033 01        		.byte	1
 738 0034 10        		.byte	16
 739 0035 01        		.byte	1
 740 0036 FF        		.byte	-1
 741 0037 00        		.byte	0
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 14


 742 0038 00        		.byte	0
 743 0039 08        		.byte	8
 744 003a C0        		.byte	-64
 745 003b 16        		.byte	22
 746 003c DC        		.byte	-36
 747 003d 05        		.byte	5
 748 003e 01        		.byte	1
 749 003f 01        		.byte	1
 750 0040 01        		.byte	1
 751 0041 02        		.byte	2
 752 0042 00        		.byte	0
 753 0043 01        		.byte	1
 754               	.global	usbDescriptorConfiguration
 755               		.type	usbDescriptorConfiguration, @object
 756               		.size	usbDescriptorConfiguration, 18
 757               	usbDescriptorConfiguration:
 758 0044 09        		.byte	9
 759 0045 02        		.byte	2
 760 0046 12        		.byte	18
 761 0047 00        		.byte	0
 762 0048 01        		.byte	1
 763 0049 01        		.byte	1
 764 004a 00        		.byte	0
 765 004b 80        		.byte	-128
 766 004c 32        		.byte	50
 767 004d 09        		.byte	9
 768 004e 04        		.byte	4
 769 004f 00        		.byte	0
 770 0050 00        		.byte	0
 771 0051 00        		.byte	0
 772 0052 00        		.byte	0
 773 0053 00        		.byte	0
 774 0054 00        		.byte	0
 775 0055 00        		.byte	0
 776               		.lcomm events,1
 777               		.lcomm didWriteSomething,1
 778               		.data
 779               		.type	usbMsgLen, @object
 780               		.size	usbMsgLen, 1
 781               	usbMsgLen:
 782 0001 FF        		.byte	-1
 783               		.type	replyBuffer.1675, @object
 784               		.size	replyBuffer.1675, 4
 785               	replyBuffer.1675:
 786 0002 16        		.byte	22
 787 0003 FA        		.byte	-6
 788 0004 40        		.byte	64
 789 0005 14        		.byte	20
 790               		.lcomm wasReset.1564,1
 791               		.lcomm usbMsgFlags,1
 792               		.lcomm writeLength,1
 793               		.lcomm vectorTemp,4
 794               		.lcomm currentAddress,2
 795               		.comm usbMsgPtr,2,1
 796               		.comm usbRxToken,1,1
 797               		.comm usbConfiguration,1,1
 798               		.comm usbRxBuf,22,1
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 15


 799               		.comm usbInputBufOffset,1,1
 800               		.comm usbDeviceAddr,1,1
 801               		.comm usbNewDeviceAddr,1,1
 802               		.comm usbRxLen,1,1
 803               		.comm usbCurrentTok,1,1
 804               		.comm usbTxBuf,11,1
 805               	.global __do_copy_data
 806               	.global __do_clear_bss
GAS LISTING /var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:2      *ABS*:0000003f __SREG__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:3      *ABS*:0000003e __SP_H__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:4      *ABS*:0000003d __SP_L__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:5      *ABS*:00000034 __CCP__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:6      *ABS*:00000000 __tmp_reg__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:7      *ABS*:00000001 __zero_reg__
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:10     .text:00000000 writeFlashPage
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:776    .bss:00000001 didWriteSomething
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:793    .bss:00000009 currentAddress
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:44     .text:00000024 writeWordToPageBuffer
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:792    .bss:00000005 vectorTemp
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:113    .text:0000008e fillFlashWithVectors
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:139    .init3:00000000 PushMagicWord
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:161    .text:000000b4 main
                            *COM*:00000001 usbRxLen
                            *COM*:00000001 usbInputBufOffset
                            *COM*:00000016 usbRxBuf
                            *COM*:00000001 usbRxToken
                            *COM*:0000000b usbTxBuf
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:690    .data:00000000 usbTxLen
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:790    .bss:00000003 usbMsgFlags
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:785    .data:00000002 replyBuffer.1675
                            *COM*:00000002 usbMsgPtr
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:791    .bss:00000004 writeLength
                             .bss:00000000 events
                            *COM*:00000001 usbNewDeviceAddr
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:735    .progmem.data:00000032 usbDescriptorDevice
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:757    .progmem.data:00000044 usbDescriptorConfiguration
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:696    .progmem.data:00000000 usbDescriptorString0
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:704    .progmem.data:00000004 usbDescriptorStringVendor
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:725    .progmem.data:00000026 usbDescriptorStringDevice
                            *COM*:00000001 usbConfiguration
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:781    .data:00000001 usbMsgLen
                            *COM*:00000001 usbDeviceAddr
/var/folders/nd/dq8cd7_x03d_z3x899kwf__80000gn/T//ccgCENsE.s:777    .bss:00000002 wasReset.1564
                            *COM*:00000001 usbCurrentTok

UNDEFINED SYMBOLS
usbCrc16Append
calibrateOscillator
__vectors
__do_copy_data
__do_clear_bss
